---
layout: post
title: "2021.08.04 TIL"
author: "Poogle"
categories: [TIL]
sitemap:
  changefreq: daily
  priority: 1.0
comments: true
tag: [TIL, Java8 Interface, Lambda]

---

# **ìƒˆë¡­ê²Œ ë°°ìš´ ê²ƒ *Done***

## **ìš´ë™**
- ì˜¤ì „ ëŸ¬ë‹ 3km
## **ë…ì„œ**
## **ì•Œê³ ë¦¬ì¦˜**
## **ì½”ë”©**

### **ì¸í„°í˜ì´ìŠ¤**
* ê¸°ëŠ¥
  * êµ¬í˜„ì„ ê°•ì œ
  * ë‹¤í˜•ì„± ì œê³µ
  * ê²°í•©ë„ë¥¼ ë‚®ì¶¤(ì˜ì¡´ì„±ì„ ì—­ì „ì‹œí‚´)

* Java8 ì—ì„œëŠ”?
  * `default`: êµ¬í˜„í•œ ë©”ì„œë“œë„ interfaceì— ë„£ì„ ìˆ˜ ìˆìŒ -> override ì•ˆí•´ë„ ë¨
  * ì¸í„°í˜ì´ìŠ¤ê°€ ë³€ê²½ë  ë•Œ êµ¬í˜„í•˜ê³  ìˆëŠ” ëª¨ë“  í´ë˜ìŠ¤ë“¤ì´ í•´ë‹¹ ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•¨ -> defaultë¡œ í•˜ë©´ í•  í•„ìš” X
  * Adapterì˜ ì—­í• ì„ í•´ì¤Œ
  * ê¸°ëŠ¥ í™•ì¥
  * `static` ë©”ì„œë“œ ì¶”ê°€ ê°€ëŠ¥: ìœ í‹¸ì„± -> ìºë¦¬ì–´ ì—­í• , ì¸í„°í˜ì´ìŠ¤ê°€ ë­”ê°€ë¥¼ í•˜ëŠ”ê±´ ì•„ë‹ˆê³  ë©”ì„œë“œë¥¼ ë“¤ê³  ìˆìœ¼ë©´ì„œ í•¨ìˆ˜ ì œê³µìê°€ ë¨
    * ì—¬ê¸°ì„œ í•¨ìˆ˜ë¼ê³  í•˜ëŠ” ì´ìœ ëŠ” í´ë˜ìŠ¤ ì•ˆì— ìˆëŠ” í•¨ìˆ˜ë¥¼ ë©”ì„œë“œë¼ê³  í•¨, ì¸í„°í˜ì´ìŠ¤ -> í•¨ìˆ˜ ì œê³µì
  
#### **í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤(Functional Interface)**
- ì¶”ìƒ ë©”ì„œë“œë¥¼ ë”± í•˜ë‚˜ë§Œ ê°€ì§€ê³  ìˆëŠ” ì¸í„°í˜ì´ìŠ¤
    - ì¸í„°í˜ì´ìŠ¤ì„ì—ë„ static ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê³  default ë©”ì„œë“œë„ ê°€ì§ˆ ìˆ˜ ìˆìŒ
    - ì¶”ìƒ ë©”ì„œë“œë§Œ í•˜ë‚˜ ìˆìœ¼ë©´ ëœë‹¤
- SAM (Single Abstract Method) ì¸í„°í˜ì´ìŠ¤
- `@FuncationInterface` ì• ë…¸í…Œì´ì…˜ ì„ ê°€ì§€ê³  ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ â†’ ì• ë…¸í…Œì´ì…˜ ìˆìœ¼ë©´ ì¶”ìƒ ë©”ì„œë“œê°€ ì—¬ëŸ¬ ê°œ ìˆì„ ë•Œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚œë‹¤
  ```java
  @FunctionalInterface
  public interface RunSomething {
      void doIt();
  }
  ```
#### **ìë°”ì—ì„œ ë¯¸ë¦¬ ì •ì˜í•´ë‘” ìì£¼ ì‚¬ìš©í• ë§Œí•œ í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤**
- Function<T, R>
  - T íƒ€ì…ì„ ë°›ì•„ì„œ R íƒ€ì…ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
  - R apply(T t)
  - í•¨ìˆ˜ ì¡°í•©ìš© ë©”ì†Œë“œ
  - andThen
  - compose

  ```java
  import java.util.function.Function;

  public class StringCalculator {
      public static void main(String[] args) {
          Function<Integer, Integer> plus10 = (number) -> number + 10;
          Function<Integer, Integer> multiply2 = (number) -> number * 2;
          
          //ì…ë ¥ê°’ì„ ê°€ì§€ê³  ()ì•ˆì„ ë¯¸ë¦¬ ì‹¤í–‰ í›„ ê·¸ í›„ return ê°’ì„ ê°€ì§€ê³  ì „ìì˜ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©
          plus10.compose(multiply2);
      }
  }
  ```

  ```java
  import java.util.function.Function;

  public class StringCalculator {
      public static void main(String[] args) {
          Function<Integer, Integer> plus10 = (number) -> number + 10;
          Function<Integer, Integer> multiply2 = (number) -> number * 2;

          //ì•ì„ ë¨¼ì €
          System.out.println(plus10.andThen(multiply2).apply(10));
      }
  }
  ```

- BiFunction<T, U, R>
  - **ë‘ ê°œì˜ ê°’(T, U)ë¥¼** ë°›ì•„ì„œ R íƒ€ì…ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
    - R apply(T t, U u)

- Consumer<T>
  - T íƒ€ì…ì„ ë°›ì•„ì„œ ì•„ë¬´ê°’ë„ **ë¦¬í„´í•˜ì§€ ì•ŠëŠ”** í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
      - void Accept(T t)
  - í•¨ìˆ˜ ì¡°í•©ìš© ë©”ì†Œë“œ
      - andThen

  ```java
  import java.util.function.Consumer;

  public class StringCalculator {
      public static void main(String[] args) {
          Consumer<Integer> printT = (i) -> System.out.println(i);
          printT.accept(10);
      }
  }
  ```

- Supplier<T>
  - T íƒ€ì…ì˜ ê°’ì„ **ì œê³µ**í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
    - T get()
  ```java
  import java.util.function.Supplier;

  public class StringCalculator {
      public static void main(String[] args) {
          Supplier<Integer> get10 = () -> 10;

          System.out.println(get10);
      }
  }
  ```
  
- Predicate<T>
  - T íƒ€ì…ì„ ë°›ì•„ì„œ **booleanì„ ë¦¬í„´**í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
    - boolean test(T t)
  - í•¨ìˆ˜ ì¡°í•©ìš© ë©”ì†Œë“œ
    - And
    - Or
  ```java
  import java.util.function.Predicate;

  public class StringCalculator {
      public static void main(String[] args) {
          Predicate<String> startsWithKeesun = (s) -> s.startsWith("keesun");
          Predicate<Integer> isEven = (i) -> i % 2 == 0;
      }
  }
  ```
  
- UnaryOperator<T>
  - Function<T, R>ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë¡œ, ì…ë ¥ê°’ í•˜ë‚˜ë¥¼ ë°›ì•„ì„œ **ë™ì¼í•œ íƒ€ì…ì„ ë¦¬í„´**í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
  ```java
  import java.util.function.UnaryOperator;

  public class StringCalculator {
      public static void main(String[] args) {
          UnaryOperator<Integer> plus10 = (i) -> i + 10;
          UnaryOperator<Integer> multiply2 = (i) -> i * 2;
      }
  }
  ```

- BinaryOperator<T>
  - BiFunction<T, U, R>ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë¡œ, **ë™ì¼í•œ íƒ€ì…ì˜ ì…ë ¥ê°’ ë‘ê°œ**ë¥¼ ë°›ì•„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤

<br>

#### **ìµëª… í´ë˜ìŠ¤**
* ì¸í„°í˜ì´ìŠ¤ ë§¤ë²ˆ êµ¬í˜„ì²´ ë§Œë“¤ì–´ì„œ ê·¸ ì•ˆì—ìˆëŠ” ë©”ì„œë“œ ì“°ê¸° í˜ë“¤ì§€ ì•Šë‚˜?
* â© ìµëª… í´ë˜ìŠ¤ (ì¸í„°í˜ì´ìŠ¤ ì„ì‹œ ìƒì„±í•˜ê¸° ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  êµ¬í˜„ì„ ë°”ë¡œ ì •ì˜)
- í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì— ìˆëŠ” ë©”ì„œë“œ í•˜ë‚˜ë°–ì— ì—†ìŒ -> ë‹¹ì—° ê·¸ ë©”ì„œë“œ ì“°ê² ì§€ -> ì¤„ì„ `(ì¸ì ë¦¬ìŠ¤íŠ¸) -> {ë°”ë””}`

#### **ëŒë‹¤**
* `(ì¸ì ë¦¬ìŠ¤íŠ¸) -> {ë°”ë””}`
- ì¸ì ë¦¬ìŠ¤íŠ¸
  - ì¸ìê°€ ì—†ì„ ë•Œ: ()
  - ì¸ìê°€ í•œê°œì¼ ë•Œ: (one) ë˜ëŠ” one
  - ì¸ìê°€ ì—¬ëŸ¬ê°œ ì¼ ë•Œ: (one, two)
  - ì¸ìì˜ íƒ€ì…ì€ ìƒëµ ê°€ëŠ¥, ì»´íŒŒì¼ëŸ¬ê°€ ì¶”ë¡ (infer)í•˜ì§€ë§Œ ëª…ì‹œí•  ìˆ˜ë„ ìˆë‹¤. (Integer one, Integer two)
- ë°”ë””
  - í™”ì‚´í‘œ ì˜¤ë¥¸ìª½ì— í•¨ìˆ˜ ë³¸ë¬¸ì„ ì •ì˜í•œë‹¤.
  - ì—¬ëŸ¬ ì¤„ì¸ ê²½ìš°ì— { }ë¥¼ ì‚¬ìš©í•´ì„œ ë¬¶ëŠ”ë‹¤.
  - í•œ ì¤„ì¸ ê²½ìš°ì— ìƒëµ ê°€ëŠ¥, returnë„ ìƒëµ ê°€ëŠ¥.

* ë³€ìˆ˜ ìº¡ì³ Variable Capture

  ```java
  package stringcalculator;

  import java.util.function.Consumer;
  import java.util.function.IntConsumer;
  import java.util.function.UnaryOperator;

  public class StringCalculator {
      public static void main(String[] args) {
          StringCalculator sc = new StringCalculator();
          sc.run();
      }

      private void run() {
          final int baseNumber = 10;

          // ë¡œì»¬ í´ë˜ìŠ¤
          class LocalClass {
              void printBaseNumber() {
                  System.out.println(baseNumber);
              }
          }

          // ìµëª… í´ë˜ìŠ¤
          Consumer<Integer> integerConsumer = new Consumer<Integer>() {
              @Override
              public void accept(Integer integer) {
                  System.out.println(baseNumber);
              }
          };

          // ëŒë‹¤
          IntConsumer printInt = (i) -> {
              System.out.println(i + baseNumber);
          };

          printInt.accept(10);

      }
  }
  ```
- ë¡œì»¬, ìµëª… & ëŒë‹¤ì˜ ê³µí†µì  â†’ baseNumber ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìŒ
- java 8ì˜ ê²½ìš°ì—ëŠ” final ìƒëµ ê°€ëŠ¥ (ì‚¬ì‹¤ìƒ final)
- ë¡œì»¬, ìµëª… // ëŒë‹¤ì˜ ì°¨ì´ì  â†’ ì‰ë„ìœ™ O // X

- ë¡œì»¬ ë³€ìˆ˜ ìº¡ì²˜
    - finalì´ê±°ë‚˜ effective final ì¸ ê²½ìš°ì—ë§Œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
    - ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° concurrency ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ì„œ ì»´íŒŒì¼ëŸ¬ê°€ ë°©ì§€

- effective final
    - ì´ê²ƒë„ ì—­ì‹œ ìë°” 8ë¶€í„° ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ **â€œì‚¬ì‹¤ìƒ" finalì¸ ë³€ìˆ˜.**
    - final í‚¤ì›Œë“œ ì‚¬ìš©í•˜ì§€ ì•Šì€ ë³€ìˆ˜ë¥¼ **ìµëª… í´ë˜ìŠ¤ êµ¬í˜„ì²´ ë˜ëŠ” ëŒë‹¤ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.**
- ìµëª… í´ë˜ìŠ¤ êµ¬í˜„ì²´ì™€ ë‹¬ë¦¬ â€˜ì‰ë„ìœ™â€™í•˜ì§€ ì•ŠëŠ”ë‹¤.

    ```java
    package stringcalculator;

    import java.util.function.Consumer;
    import java.util.function.IntConsumer;
    import java.util.function.UnaryOperator;

    public class StringCalculator {
        public static void main(String[] args) {
            StringCalculator sc = new StringCalculator();
            sc.run();
        }

        private void run() {
            **int baseNumber = 10;**

            // ë¡œì»¬ í´ë˜ìŠ¤
            class LocalClass {
                **int baseNumber = 11; //ì‰ë„ìœ™**
                void printBaseNumber() {
                    System.out.println(baseNumber);
                }
            }

            // ìµëª… í´ë˜ìŠ¤
            Consumer<Integer> integerConsumer = new Consumer<Integer>() {
                @Override
                public void accept(Integer **baseNumber**) { //ì‰ë„ìœ™
                    System.out.println(baseNumber);
                }
            };

            **// ëŒë‹¤
            IntConsumer printInt = (baseNumber) -> { // ê°™ì€ scope -> ì‰ë„ìœ™ X
                System.out.println(baseNumber);
            };**

            printInt.accept(10);

        }
    }
    ```

    - ìµëª… í´ë˜ìŠ¤ëŠ” ìƒˆë¡œ ìŠ¤ì½¥ì„ ë§Œë“¤ì§€ë§Œ, ëŒë‹¤ëŠ” ëŒë‹¤ë¥¼ ê°ì‹¸ê³  ìˆëŠ” ìŠ¤ì½¥ê³¼ ê°™ë‹¤.
- ì°¸ê³ 
    - [https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#shadowing](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#shadowing)
    - [https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)


#### **ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤**
* ëŒë‹¤ í‘œí˜„ì‹ì—ì„œ ì…ë ¥ë˜ëŠ” ê°’ì„ ë³€ê²½ì—†ì´ ë°”ë¡œ ì‚¬ìš©
* ìŠ¤íƒœí‹± ë©”ì„œë“œ ì°¸ì¡°
  * `íƒ€ì…::ìŠ¤íƒœí‹± ë©”ì„œë“œ`
  * `Person::compareByAge`
  * `MethodReferencesExamples::appendStrings`
* íŠ¹ì • ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ ì°¸ì¡°
  * `ê°ì²´ ë ˆí¼ëŸ°ìŠ¤::ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ`
  * `myComparisonProvider::compareByName`
* ì„ì˜ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ ì°¸ì¡°
  * `íƒ€ì…::ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ`
  * `String::compareToIgnoreCase`
  * `String::concat`
* ìƒì„±ì ì°¸ì¡°
  * `íƒ€ì…::new`
  * `HashSet::new`
* ë©”ì„œë“œ ë˜ëŠ” ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ëŒë‹¤ì˜ ì…ë ¥ê°’ì„ ë°›ìŒ
* ë¦¬í„´ê°’ ë˜ëŠ” ìƒì„±í•œ ê°ì²´ëŠ” ëŒë‹¤ì˜ ë¦¬í„´ê°’ 

### ì°¸ê³ 
> [Method References - Oracle docs](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)

> ê°•ì˜ - [ë” ìë°”, Java 8](https://www.inflearn.com/course/the-java-java8)

<br>

# **ê¹¨ë‹¬ì€ ì  *FEELING***
* ì˜¤ì „ì— ì´í‹€ì— í•œ ë²ˆ ê¼´ë¡œ ë›°ê³  ìˆëŠ”ë° ìœ ì‚°ì†Œë§Œ í•˜ê³  ìˆì–´ì„œ ì–´ì„œ ê·¼ë ¥ ìš´ë™ë„ í•˜ê³  ì‹¶ë‹¤. ê·¼ë° ê³µë³µì´ë¼ ë›°ê³  ë‚˜ì„œ ê·¼ë ¥ìš´ë™ê¹Œì§€ í•˜ë ¤ë‹ˆ ì‰½ì§€ ì•Šë‹¤.ğŸ˜‚ ìœ ì‚°ì†Œ - ê·¼ë ¥ ë²ˆê°ˆì•„ì„œ í• ê¹Œ ìƒê°ì¤‘ì´ë‹¤.
* ì¤Œìœ¼ë¡œ ì½”ì–´íƒ€ì„ ë³´ë‚¼ ë•Œ ë‚´ê°€ ë‚´ ì–¼êµ´ì„ ìê¾¸ ë³´ê²Œ ë˜ì–´ì„œ ê·¸ëŸ°ì§€ í”¼ë¡œê°ì´ ì‹¬í•´ì„œ ì´ë²ˆì—” í—ˆë“¤ì„ ì‚¬ìš©í–ˆë‹¤. ëœ í”¼ê³¤í•œê²Œ ì¥ì ì´ë¼ë©´ í™”ë©´ê³µìœ ë¥¼ í•˜ì§€ ì•Šì•„ì„œ ì§‘ì¤‘ë ¥ì´ ë–¨ì–´ì§€ëŠ” ë‹¨ì ë„ ìˆëŠ” ê²ƒ ê°™ê¸°ë„ í•˜ê³ ...
* ì¸í„°í˜ì´ìŠ¤ì™€ ëŒë‹¤ë¥¼ ì•Œê³  ìˆê³  ì‚¬ìš©ë„ í•˜ê³  ìˆì—ˆëŠ”ë° ì˜¤ëŠ˜ ê°•ì˜ë¥¼ ë“£ê³  ê°‘ìê¸° ë‹¨ìˆœíˆ ì™¸ì›Œì„œ ì•Œë˜ ë¶€ë¶„ì˜ ì›ë¦¬ë¥¼ ê¹¨ë‹¬ì•˜ë‹¤. ìƒê°ì´ ê°‘ìê¸° íŠ¸ì¸ ëŠë‚Œ?
* TILì„ ì •ë¦¬í•˜ë©´ì„œ ë…¸ì…˜ì—ë§Œ ì •ë¦¬í–ˆë˜ ëŒë‹¤ ë‚´ìš©ì„ ë¸”ë¡œê·¸ì— í¬ìŠ¤íŒ…í•  ìˆ˜ ìˆê²Œ ëë‹¤. ì˜®ê¸°ë©´ì„œ ë‚´ ì§€ì‹ìœ¼ë¡œ ë§Œë“¤ê¸°ê°€ ëª©í‘œ!!